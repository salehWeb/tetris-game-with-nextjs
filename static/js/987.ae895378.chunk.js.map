{"version":3,"file":"static/js/987.ae895378.chunk.js","mappings":"4RAmEA,EA5DiB,SAAC,GAAuG,IAArGA,EAAoG,EAApGA,KAAMC,EAA8F,EAA9FA,QAASC,EAAqF,EAArFA,KAAMC,EAA+E,EAA/EA,YAAaC,EAAkE,EAAlEA,aAAcC,EAAoD,EAApDA,WAAYC,EAAwC,EAAxCA,gBAAiBC,EAAuB,EAAvBA,GAC7F,GADoH,EAAnBC,SACnEC,EAAAA,EAAAA,WAAS,IAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KAIMC,EAAY,mCAAG,8EACjBD,GAAYD,GACZT,EAAQD,GAFS,2CAAH,qDAKZa,EAAY,mCAAG,iGACjBC,QAAQC,IAAI,gBACZJ,GAAW,GACHK,EAAed,EAAfc,MAAOC,EAAQf,EAARe,KACTC,EAAYlB,EAAKmB,IACjBC,EAAkBhB,EAAaiB,QAAO,SAACrB,GAAD,OAAeA,EAAKmB,MAAQD,KACxEZ,EAAgBc,GANC,UAOXE,EAAAA,EAAAA,IAAcf,EAAI,CAAEA,GAAIW,EAAWhB,KAAM,CAAEc,MAAAA,EAAOC,KAAAA,KAPvC,2CAAH,qDAgBlB,OACI,+BACI,qBAAwBM,UAAU,+FAAlC,WACI,iBAAKA,UAAU,mDAAf,UACKvB,EAAKgB,SAAL,OAAed,QAAf,IAAeA,OAAf,EAAeA,EAAMc,SAElB,SAAC,MAAD,CAAgBQ,QAASZ,KAG7B,cAAGW,UAAU,uDAAb,SACKvB,EAAKiB,OAETP,IACG,gBAAIa,UAAU,qIAAd,WACI,gBAAIC,QAASX,EAAcU,UAAU,sFAArC,WAA2H,kCAA3H,KAAyI,SAAC,MAAD,QACzI,gBAAIC,QArBP,WACjBrB,GAAY,GACZQ,GAAW,GACXN,EAAWL,EAAKyB,UAkB+BF,UAAU,sFAArC,WAA2H,mCAA3H,KAA0I,SAAC,MAAD,cAItJ,eAAIA,UAAU,4BACd,kBAAMA,UAAU,+DAAhB,WACI,gBAAKA,UAAU,sDAAf,UACI,gBACIG,IAAG,kDAA6C1B,EAAKiB,KAAlD,QACHU,IAAK3B,EAAKiB,KAAMM,UAAU,oEAElC,eAAIA,UAAU,0DAAd,SAAyEK,GAAAA,CAAO5B,EAAK6B,SAASC,gBAElG,cAAGP,UAAU,8DAAb,SAA4EvB,EAAKyB,YA1BvEzB,EAAKmB,Q,2DC+U/B,EArWiB,WAAO,IAAD,IACbY,GAAUC,EAAAA,EAAAA,MAEhB,GAAwBvB,EAAAA,EAAAA,YAAxB,eAAOT,EAAP,KAAaiC,EAAb,KACA,GAA8BxB,EAAAA,EAAAA,UAAS,IAAvC,eAAOgB,EAAP,KAAgBpB,EAAhB,KACA,GAA2BI,EAAAA,EAAAA,WAAS,GAApC,eAAOyB,EAAP,KAAeC,EAAf,KACA,GAAgC1B,EAAAA,EAAAA,WAAS,GAAzC,eAAO2B,EAAP,KAAiBjC,EAAjB,KACA,GAAwBM,EAAAA,EAAAA,YAAxB,eAAO4B,EAAP,KAAapC,EAAb,KACA,GAAoCQ,EAAAA,EAAAA,WAAa,OAAJT,QAAI,IAAJA,GAAA,UAAAA,EAAMsC,aAAN,eAAaC,SAAU,GAApE,eAAOC,EAAP,KAAmBC,EAAnB,KACA,GAAkChC,EAAAA,EAAAA,WAAS,GAA3C,eAAOiC,EAAP,KAAkBC,EAAlB,KACA,GAA0ClC,EAAAA,EAAAA,WAAS,GAAnD,eAAOmC,EAAP,KAAsBC,EAAtB,KACA,GAAwCpC,EAAAA,EAAAA,UAAS,IAAjD,eAAOL,EAAP,KAAqBE,GAArB,KAGMwC,GAAeC,aAAavC,QAAQ,WACpCN,GAAO4C,KAAY,UAAIE,KAAKC,MAAMH,WAAf,aAAI,EAA0B5C,MAEjDgD,IAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACN9C,IAAoB,OAAJN,QAAI,IAAJA,OAAA,EAAAA,EAAMqD,WAAY,MACnC,CAACrD,KAEJoD,EAAAA,EAAAA,YAAU,WAAQF,GAAS,CAAEI,KAAMC,EAAAA,OAA2B,CAACL,KAE/D,IAAQM,IAAUC,EAAAA,EAAAA,KAAY,SAACC,GAAD,OAAgBA,EAAMC,QAA5CH,MAER,IAA0B/C,EAAAA,EAAAA,UAAS+C,IAAnC,iBAAOI,GAAP,MAAcC,GAAd,OAEAT,EAAAA,EAAAA,YAAU,WAAO,IAAD,EACZX,EAAa,OAACzC,QAAD,IAACA,GAAD,UAACA,EAAMsC,aAAP,aAAC,EAAaC,UAC5B,CAACvC,IAEJ,IAAM8D,GAAS,mCAAG,WAAOC,GAAP,8FACP5C,EAA0D4C,EAA1D5C,IAAK6C,EAAqDD,EAArDC,MAAOV,EAA8CS,EAA9CT,KAAMhB,EAAwCyB,EAAxCzB,MAAO2B,EAAiCF,EAAjCE,MAAOC,EAA0BH,EAA1BG,SAAUC,EAAgBJ,EAAhBI,KAAMC,EAAUL,EAAVK,OACjD/B,EAAO,CAAElB,IAAAA,EAAK6C,MAAAA,EAAOV,KAAAA,EAAMhB,MAAAA,EAAO2B,MAAAA,EAAOC,SAAAA,EAAUC,KAAAA,EAAMC,OAAAA,IAE1D,OAALZ,SAAK,IAALA,QAAA,EAAAA,GAAOjB,SAAU,EAAIsB,GAAS,CAACxB,IAASwB,GAAS,GAAD,eAAKL,IAAL,CAAYnB,KAJ9C,SAMRU,aAAad,QAAb,YAAkCe,KAAKqB,UAAUT,KANzC,OAQdV,GAAS,CAAEI,KAAMC,EAAAA,KARH,2CAAH,uDAWfH,EAAAA,EAAAA,YAAU,WACNL,aAAad,QAAb,YAAkCe,KAAKqB,UAAUT,OAClD,CAACA,KAEJ,IAAMpD,GAAO,mCAAG,kFACR8D,GADQ,gBAERrC,EAAQqC,IAFA,uCAIFC,EAAAA,EAAAA,GAAYC,OAAOC,SAASC,OAAOC,MAAM,KAAK,IAAIC,KAAlD,mCAAuD,WAAMC,GAAN,iEACzD5C,EAAQ4C,EAAIxC,KAAKA,KAAK,IADmC,2CAAvD,uDAEHyC,OAAM,SAACC,GAAD,OAAgBjE,QAAQC,IAAIgE,MAN7B,2CAAH,qDAUPC,GAAe,WACjB3E,EAAW,IACXF,GAAY,IAIV8E,GAAmB,mCAAG,WAAOC,GAAP,sFACxBA,EAAEC,kBACErC,GAFoB,oBAGpBH,GAAa,GACRP,EAJe,oBAKA,KAAZX,EALY,uBAMJT,EAAgBd,GAAhBc,MAAOC,EAASf,GAATe,KACToB,EAAO,CAAEZ,QAASA,EAASvB,KAAM,CAAEc,MAAAA,EAAOC,KAAAA,IAPpC,UAQNmE,EAAAA,EAAAA,IAAYpF,EAAKmB,IAAKkB,GAAMuC,KAA5B,mCAAiC,WAAMC,GAAN,iEACnC/D,QAAQC,IAAI8D,GACZxE,EAAW,IACXC,GAAgBuE,EAAIxC,MAHe,2CAAjC,uDAIHyC,OAAM,SAAAO,GAAG,OAAIvE,QAAQC,IAAIsE,MAZhB,sCAeRrE,EAAgBd,GAAhBc,MAAOC,EAASf,GAATe,KACTV,EAAK8B,EAAKlB,IACVmE,EAAU,CAAE7D,QAAAA,EAASlB,GAAAA,EAAIL,KAAM,CAAEc,MAAAA,EAAOC,KAAAA,IAjB9B,WAkBVsE,EAAAA,EAAAA,IAAcvF,EAAKmB,IAAKmE,GAASV,MAAK,SAAAC,GACxCG,KACAlE,QAAQC,IAAI8D,GACZvE,GAAgBuE,EAAIxC,SACrByC,OAAM,SAAAO,GAAG,OAAIvE,QAAQC,IAAIsE,MAtBZ,QAwBpB1C,GAAa,GAxBO,wBA4BpB6C,IAAAA,KAAU,CACNxB,MAAO,mCACPyB,KAAM,UACNC,kBAAmB,QACnBC,kBAAkB,EAClBC,iBAAkB,SAClBC,gBAAgB,EAChBC,mBAAmB,EACnBC,gBAAgB,EAChBC,eAAe,EACfC,qBAAqB,EACrBC,WAAY,WACRnE,EAAQ,aAxCI,4CAAH,sDA+CjBuC,IAAab,EAAAA,EAAAA,KAAY,SAACC,GAAD,OAAgBA,EAAMC,QAA/CW,SAGF6B,GAAc,iBAAMjG,SAAN,IAAMA,QAAN,EAAMA,GAAMc,QAEhCoC,EAAAA,EAAAA,YAAU,WACN,GAAIpD,EAAM,CACN6C,GAAiB,GACjB,IAAMuD,EAAQ,mCAAG,+FAEPC,EAAAA,EAAAA,IAAYrG,EAAKmB,KAAKyD,MAAK,SAACC,GAC9BpC,EAAcoC,EAAIxC,KAAKC,MAAMC,QAC7BsC,EAAIxC,KAAKC,MAAMgE,KAAI,SAACtG,GACZA,EAAKgB,QAAUmF,GACfhE,GAAS,GAETA,GAAS,SAGlB2C,OAAM,SAACC,GAAD,OAAgBjE,QAAQC,IAAIgE,MAXxB,2CAAH,qDAadqB,IACAvD,GAAiB,MAGtB,CAAC7C,KAEJoD,EAAAA,EAAAA,YAAU,WACN5C,OACD,IAEH,IAAM+F,GAAW,mCAAG,0FACZzD,GADY,wBAEZD,GAAiB,GACjBV,GAAUD,GAINO,EAHCP,EAGaM,EAAa,EAFbA,EAAa,GAIvBxB,EAAgBd,GAAhBc,MAAOC,EAASf,GAATe,KATH,UAUNuF,EAAAA,EAAAA,IAAcxG,EAAKmB,IAAK,CAAEH,MAAAA,EAAOC,KAAAA,IAAQ2D,MAAK,SAAAC,GAChDhC,GAAiB,MAEhBiC,OAAM,SAAAC,GAAK,OAAIjE,QAAQC,IAAIgE,MAbpB,OAcZlC,GAAiB,GAdL,wBAgBZ2C,IAAAA,KAAU,CACNxB,MAAO,0CACPyB,KAAM,UACNC,kBAAmB,QACnBC,kBAAkB,EAClBC,iBAAkB,SAClBa,kBAAmB,OACnBC,mBAAoB,UACpBb,gBAAgB,EAChBC,mBAAmB,EACnBC,gBAAgB,EAChBC,eAAe,EACfW,cAAc,EACdC,aAAa,EACbV,WAAY,WACRnE,EAAQ,aA/BJ,4CAAH,qDAuCjB,OAEI,gBAAKR,UAAU,yGAAf,SAEKvB,GACG,iCACI,UAAC6G,EAAA,MAAD,CACIC,QAAS,CAAEC,EAAG,IAAKC,QAAS,EAAGC,MAAO,IACtCC,QAAS,CAAEH,EAAG,EAAGC,QAAS,EAAGC,MAAO,GACpCE,KAAM,CAAEH,QAAS,GAAKD,EAAG,IAAKE,MAAO,GACtB1F,UAAU,oJAJ7B,WAKI,gBAAKA,UAAU,mFAAf,UAGI,iBAAKA,UAAU,+FAAf,WAEI,gBAAKA,UAAU,iCAAiCG,IAAK1B,EAAKoH,IAAKzF,IAAK3B,EAAKgE,QAEtD,IAAlBhE,EAAKkE,WACF,gBAAK3C,UAAU,2HAAf,UACI,eAAGA,UAAU,qGAAb,UAAmH8F,OAAOrH,EAAKkE,UAAUS,MAAM,KAAK,GAApJ,WAKR,gBAAKpD,UAAU,iIAAf,SAEuB,IAAlBvB,EAAKkE,UAEE,+BAEI,gBAAK3C,UAAU,mDAAf,UACI,eAAGA,UAAU,oDAAb,WACI,iBAAMA,UAAU,wBAAhB,gBACA,iBAAMA,UAAU,oBAAhB,SACKvB,EAAKiE,SAEV,iBAAM1C,UAAU,wBAAhB,eACC+F,OAAOtH,EAAKiE,MAASjE,EAAKiE,MAAQjE,EAAKkE,UAAWqD,QAAQ,WAKvE,gBAAKhG,UAAU,0CAAf,UACI,eAAGA,UAAU,oDAAb,WACI,iBAAMA,UAAU,wBAAhB,eAAiDvB,EAAKiE,mBASlF,iBAAK1C,UAAU,sEAAf,WAEI,iBAAKA,UAAS,iDAAd,UACKqB,GACG,gBAAKrB,UAAS,oDAAd,UACI,SAACiG,EAAA,EAAD,CAAUC,QAAQ,OAGtB,UAACZ,EAAA,SAAD,CACIa,SAAU,CAAET,MAAO,IACnBzF,QAAS+E,GAAahF,UAAS,4HAAuHW,EAAS,uDAAyD,kCAAzL,YAAsOoB,KAAK,SAAS,aAAW,OAFlS,WAII,gBAAKqE,MAAM,KAAKC,OAAO,KAAKC,KAAK,eAAe,cAAY,OAA5D,UACI,iBAAMC,SAAS,UAAUC,SAAS,UAAUC,EAAE,qHAElD,iBAAMzG,UAAU,6BAAhB,SAA8CiB,OAGrDoB,IAASA,GAAMqE,MAAK,SAAC1H,GAAD,OAAaA,EAAGY,MAAQnB,EAAKmB,QAE1C,SAAC0F,EAAA,MAAD,CAAYa,SAAU,CAAET,MAAO,IAAO1F,UAAU,uIAAhD,UACI,SAAC,MAAD,CAAWA,UAAU,kBAGzB,SAACsF,EAAA,MAAD,CAAYa,SAAU,CAAET,MAAO,IAAO1F,UAAU,gJAAhD,UACI,SAAC,MAAD,CAAgBC,QAAS,kBAAMsC,GAAU9D,IAAOuB,UAAU,qBAK1E,gBAAKA,UAAU,mCAAf,UAEI,gBAAIA,UAAU,yEAAd,UAAwFvB,EAAKgE,OACzF,iBAAMzC,UAAU,qFAIxB,eAAGA,UAAU,sBAAb,UAAoCvB,EAAKmE,KAAzC,sEAEA,eAAI5C,UAAU,oFAEd,iBAAKA,UAAU,+DAAf,WACI,eAAGA,UAAU,iBAAb,yBACe,iBAAMA,UAAU,sCAAhB,SACNvB,EAAKoE,aAGd,eAAG7C,UAAU,iBAAb,wBACc,iBAAMA,UAAU,sCAAhB,SACLvB,EAAKsD,kBA7FjBtD,EAAKmB,MAsGd,UAAC0F,EAAA,MAAD,CACIC,QAAS,CAAEC,EAAG,IAAKC,QAAS,EAAGC,MAAO,IACtCC,QAAS,CAAEH,EAAG,EAAGC,QAAS,EAAGC,MAAO,GACpCE,KAAM,CAAEH,QAAS,GAAKD,EAAG,IAAKE,MAAO,GACrC1F,UAAU,yHAJd,WAQI,gBAAKA,UAAU,gGAAf,UACI,kBAAM2G,SAAU,SAAChD,GAAD,OAAOD,GAAoBC,IAAI3D,UAAU,aAAzD,WACI,iBAAKA,UAAU,OAAf,WACI,kBAAO4G,QAAQ,UAAU5G,UAAU,wBAAnC,SAA4Da,EAAW,mBAAqB,mBAC5F,qBACIb,UAAU,kHACV6G,YAAY,UACZC,MAAO5G,EACP6G,SAAU,SAACpD,GAAD,OAAO7E,EAAW6E,EAAEqD,OAAOF,cAK7C,iBAAK9G,UAAU,kCAAf,UACKmB,GACG,mBAAQnB,UAAU,iOACyI+B,KAAK,SAASkF,UAAQ,EADjL,UAEI,SAAChB,EAAA,EAAD,OAGJ,mBACIlE,KAAK,SACL/B,UAAU,iOAFd,SAIKa,EAAW,SAAW,aAI/B,mBACIZ,QAASwD,GACTzD,UAAU,kMAFd,6BAWZ,gBAAKA,UAAU,2EAAf,SACKnB,GAAgBA,EAAakG,KAAI,SAAC1C,EAAY6E,GAAb,OAC9B,SAAC,EAAD,CAAUjI,QAASA,GAASJ,aAAcA,EAAcE,gBAAiBA,GAAiBN,KAAM4D,EAAO1D,KAAMA,GAAMD,QAASA,EAAiCM,GAAIP,EAAKmB,IAAKhB,YAAaA,EAAaE,WAAYA,GAAvEuD,EAAMzC,IAAMsH,eAOtK,gBAAKlH,UAAU,iDAAf,UACI,SAAC,KAAD","sources":["components/itemPage/Comments.tsx","components/itemPage/ItemPage.tsx"],"sourcesContent":["import { FiDelete, FiMoreVertical } from 'react-icons/fi'\r\nimport moment from 'moment'\r\nimport { MdCreate } from 'react-icons/md';\r\nimport { useState } from 'react';\r\nimport { deleteComment } from '../../server/index'\r\n\r\n\r\nconst Comments = ({ item, setData, user, setIsUpdata, commentsData, setComment, setCommentsData, id, getItem }: any) => {\r\n    const [isVasbl, setIsVasbl] = useState(false)\r\n\r\n\r\n\r\n    const handelVasbel = async () => {\r\n        setIsVasbl(!isVasbl)\r\n        setData(item)\r\n    }\r\n\r\n    const handelDelete = async () => {\r\n        console.log(\"handelDelete\")\r\n        setIsVasbl(false)\r\n        const { email, name} = user\r\n        const commentId = item._id\r\n        const filterdComments = commentsData.filter((item: any) => item._id !== commentId)\r\n        setCommentsData(filterdComments)\r\n        await deleteComment(id, { id: commentId, user: { email, name } })\r\n    }\r\n\r\n    const handelUpdata = () => {\r\n        setIsUpdata(true)\r\n        setIsVasbl(false)\r\n        setComment(item.comment)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <section key={item._id} className=\"justify-center w-full flex flex-col items-center rounded-lg drop-shadow-lg bg-white px-4 p-2\">\r\n                <div className=\"flex cursor-pointer relative w-full items-center\">\r\n                    {item.email === user?.email && (\r\n\r\n                        <FiMoreVertical onClick={handelVasbel} />\r\n\r\n                    )}\r\n                    <p className=\"flex text-blue-600  items-center justify-center ml-2\">\r\n                        {item.name}\r\n                    </p>\r\n                    {isVasbl && (\r\n                        <ul className=\"absolute flex justify-center items-center min-w-[120px] -bottom-[100px]  bg-gray-100 flex-col p-2 z-[5] drop-shadow-lg  rounded-lg\">\r\n                            <li onClick={handelDelete} className=\"flex flex-row justify-between w-full p-2 hover:bg-slate-200 rounded-lg items-center\"><p>delete</p> <FiDelete /></li>\r\n                            <li onClick={handelUpdata} className=\"flex flex-row justify-between w-full p-2 hover:bg-slate-200 rounded-lg items-center\"><p>up data</p> <MdCreate /></li>\r\n                        </ul>\r\n                    )}\r\n                </div>\r\n                <hr className=\"flex w-full my-[3.5px]\" />\r\n                <main className='flex w-full rounded-lg flex-row justify-between items-center'>\r\n                    <div className=\"flex h-9 w-9 rounded-lg justify-center items-center\">\r\n                        <img\r\n                            src={`https://avatars.dicebear.com/api/bottts/${item.name}.svg`}\r\n                            alt={item.name} className=\"object-contain rounded-lg drop-shadow-2xl flex w-full h-full\" />\r\n                    </div>\r\n                    <em className='flex place-self-center items-center ml-2 text-sm w-full'>{moment(item.creatAt).fromNow()}</em>\r\n                </main>\r\n                <p className=\"text-lg p-1 flex place-self-center items-center ml-2 w-full\">{item.comment}</p>\r\n            </section>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Comments","import { useEffect, useState } from 'react'\r\nimport { commentItem, sesrshQurey, likesProdectd, updataComment, getCartUser } from '../../server'\r\nimport { motion } from 'framer-motion';\r\nimport { Loader } from '../tools';\r\nimport Comments from './Comments';\r\nimport LoderBtn from '../tools/LoderBtn';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport * as actionTypes from '../../context/actionTypes';\r\nimport { MdAddTask, MdShoppingCart } from 'react-icons/md';\r\nimport Swal from 'sweetalert2';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\n\r\nconst ItemPage = () => {\r\n    const history = useNavigate()\r\n\r\n    const [item, setItem] = useState<any>()\r\n    const [comment, setComment] = useState(\"\")\r\n    const [likesC, setLikes] = useState(false)\r\n    const [isUpdata, setIsUpdata] = useState(false)\r\n    const [data, setData] = useState<any>()\r\n    const [likeLength, setLikeLength] = useState(item?.likes?.length || 0)\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const [isLoadingLike, setIsLoadingLike] = useState(false)\r\n    const [commentsData, setCommentsData] = useState([])\r\n\r\n\r\n    const isHaveAcount = localStorage.getItem('profile')\r\n    const user = isHaveAcount && JSON.parse(isHaveAcount)?.user\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        setCommentsData(item?.comments || [])\r\n    }, [item])\r\n\r\n    useEffect(() => { dispatch({ type: actionTypes.SET_CARD }) }, [dispatch])\r\n\r\n    const { cards } = useSelector((state: any) => state.card)\r\n\r\n    const [items, setItems] = useState(cards)\r\n\r\n    useEffect(() => {\r\n        setLikeLength(item?.likes?.length)\r\n    }, [item])\r\n\r\n    const handelAdd = async (itemey: any) => {\r\n        const {_id, title, type, likes, price, discount, desc, pieces} = itemey;\r\n        const data = { _id, title, type, likes, price, discount, desc, pieces };\r\n        \r\n        cards?.length <= 0 ? setItems([data]) : setItems([...cards, data]);\r\n\r\n        await localStorage.setItem(`cardItems`, JSON.stringify(items))\r\n\r\n        dispatch({ type: actionTypes.SET_CARD })\r\n    }\r\n\r\n    useEffect(() => {\r\n        localStorage.setItem(`cardItems`, JSON.stringify(items))\r\n    }, [items])\r\n\r\n    const getItem = async () => {\r\n        if (itemPage) {\r\n            setItem(itemPage)\r\n        } else {\r\n            await sesrshQurey(window.location.search.split(\"=\")[1]).then(async res => {\r\n                setItem(res.data.data[0])\r\n            }).catch((error: any) => console.log(error))\r\n        }\r\n    }\r\n\r\n    const handelCansel = () => {\r\n        setComment(\"\")\r\n        setIsUpdata(false)\r\n    }\r\n\r\n\r\n    const handelSubmitComment = async (e: any) => {\r\n        e.preventDefault()\r\n        if (isHaveAcount) {\r\n            setIsLoading(true)\r\n            if (!isUpdata) {\r\n                if (comment !== \"\") {\r\n                    const { email, name } = user\r\n                    const data = { comment: comment, user: { email, name } }\r\n                    await commentItem(item._id, data).then(async res => {\r\n                        console.log(res);\r\n                        setComment(\"\")\r\n                        setCommentsData(res.data)\r\n                    }).catch(err => console.log(err))\r\n                }\r\n            } else {\r\n                const { email, name } = user\r\n                const id = data._id\r\n                const endData = { comment, id, user: { email, name } }\r\n                await updataComment(item._id, endData).then(res => {\r\n                    handelCansel()\r\n                    console.log(res);\r\n                    setCommentsData(res.data)\r\n                }).catch(err => console.log(err))\r\n            }\r\n            setIsLoading(false)\r\n        } \r\n        \r\n        else {\r\n            Swal.fire({\r\n                title: 'You must be logged in to comment',\r\n                icon: 'warning',\r\n                confirmButtonText: 'Login',\r\n                showCancelButton: true,\r\n                cancelButtonText: 'Cancel',\r\n                reverseButtons: true,\r\n                allowOutsideClick: false,\r\n                allowEscapeKey: false,\r\n                allowEnterKey: false,\r\n                showLoaderOnConfirm: true,\r\n                preConfirm: () => {\r\n                    history(\"/login\")\r\n                }\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    const { itemPage } = useSelector((state: any) => state.card)\r\n\r\n\r\n    const userEmail: any = `${user?.email}`\r\n\r\n    useEffect(() => {\r\n        if (item) {\r\n            setIsLoadingLike(true)\r\n            const getLikes = async () => {\r\n\r\n                await getCartUser(item._id).then((res: any) => {\r\n                    setLikeLength(res.data.likes.length)\r\n                    res.data.likes.map((item: any) => {\r\n                        if (item.email === userEmail) {\r\n                            setLikes(true)\r\n                        } else {\r\n                            setLikes(false)\r\n                        }\r\n                    })\r\n                }).catch((error: any) => console.log(error))\r\n            }\r\n            getLikes()\r\n            setIsLoadingLike(false)\r\n        }\r\n\r\n    }, [item])\r\n\r\n    useEffect(() => {\r\n        getItem()\r\n    }, [])\r\n\r\n    const handelLikes = async () => {\r\n        if (isHaveAcount) {\r\n            setIsLoadingLike(true)\r\n            setLikes(!likesC)\r\n            if (!likesC) {\r\n                setLikeLength(likeLength + 1)\r\n            } else {\r\n                setLikeLength(likeLength - 1)\r\n            }\r\n            const { email, name } = user\r\n            await likesProdectd(item._id, { email, name }).then(res => {\r\n                setIsLoadingLike(false)\r\n            })\r\n                .catch(error => console.log(error))\r\n            setIsLoadingLike(false)\r\n        } else {\r\n            Swal.fire({\r\n                title: 'You must be logged in to like this item',\r\n                icon: 'warning',\r\n                confirmButtonText: 'Login',\r\n                showCancelButton: true,\r\n                cancelButtonText: 'Cancel',\r\n                cancelButtonColor: '#d33',\r\n                confirmButtonColor: '#3085d6',\r\n                reverseButtons: true,\r\n                allowOutsideClick: false,\r\n                allowEscapeKey: false,\r\n                allowEnterKey: false,\r\n                focusConfirm: false,\r\n                focusCancel: false,\r\n                preConfirm: () => {\r\n                    history(\"/login\")\r\n                }\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n\r\n    return (\r\n\r\n        <div className='items-center grid grid-cols-1 justify-center w-full min-h-[60vh] sm:px-16 rounded-lg bg-Blur px-8 py-4'>\r\n\r\n            {item ? (\r\n                <>\r\n                    <motion.div\r\n                        initial={{ x: 400, opacity: 0, scale: 0.2 }}\r\n                        animate={{ x: 0, opacity: 1, scale: 1 }}\r\n                        exit={{ opacity: 0.8, x: 700, scale: 1 }}\r\n                        key={item._id} className=\"w-full my-6 grid xl:grid-cols-2 lg:grid-cols-2 md:grid-cols-2 grid-cols-1 gap-10  ease-in-out duration-100 transition-all min-h-[50vh] rounded-lg\">\r\n                        <div className=\"flex  w-full flex-row flex-wrap justify-between rounded-lg h-full drop-shadow-lg\">\r\n\r\n\r\n                            <div className=\"w-full flex relative lg:h-[50vh] md:h-[50vh]  sm:h-[50vh] h-[30vh] rounded-lg  bg-white p-4 \">\r\n\r\n                                <img className=' w-full  h-full object-contain' src={item.img} alt={item.title} />\r\n\r\n                                {item.discount !== 0 && (\r\n                                    <div className=\"shadow-lg max-w-fit rounded-full  -top-7 left-[5%] drop-shadow-lg absolute h-10 items-center justify-center  z-[4] flex \">\r\n                                        <p className=\"text-gray-100 md:text-lg p-1 rounded-full bg-red-600  flex justify-between text-semibold text-base\">{String(item.discount).split(\".\")[1]}0%</p>\r\n\r\n                                    </div>\r\n                                )}\r\n\r\n                                <div className=\"bg-gray-800 shadow-lg  max-w-fit rounded-lg  -top-7 right-[5%] px-[6px] absolute h-10 items-center justify-center  z-[4] flex \">\r\n\r\n                                    {item.discount !== 0 ?\r\n                                        (\r\n                                            <>\r\n\r\n                                                <div className=\"flex justify-between items-center gap-8 flex-col\">\r\n                                                    <p className='text-lg text-gray-100 font-semibold flex-row flex'>\r\n                                                        <span className='text-sm text-blue-600'>$</span>\r\n                                                        <span className=\"line-through mr-3\">\r\n                                                            {item.price}\r\n                                                        </span>\r\n                                                        <span className='text-sm text-blue-600'>$</span>\r\n                                                        {Number(item.price - (item.price * item.discount)).toFixed(2)}\r\n                                                    </p>\r\n                                                </div>\r\n                                            </>\r\n                                        ) : (\r\n                                            <div className=\"flex justify-between items-center gap-8\">\r\n                                                <p className='text-lg text-gray-100 font-semibold flex-row flex'>\r\n                                                    <span className='text-sm text-blue-600'>$</span>{item.price}\r\n                                                </p>\r\n                                            </div>\r\n                                        )}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n                        <div className=\" w-full h-full flex flex-col rounded-lg drop-shadow-lg bg-white p-4\">\r\n\r\n                            <div className={`flex items-center justify-between  mr-3 w-full`}>\r\n                                {isLoadingLike ? (\r\n                                    <div className={`flex items-center -mr-3 justify-center w-10 h-10 `}>\r\n                                        <LoderBtn Notext={true} />\r\n                                    </div>\r\n                                ) : (\r\n                                    <motion.button\r\n                                        whileTap={{ scale: 0.6 }}\r\n                                        onClick={handelLikes} className={`flex-none flex flex-col items-center ease-in-out duration-[50] transition-all justify-center w-10 h-10 rounded-md ${likesC ? 'text-red-600 shadow-md shadow-red-500 border-red-300' : 'text-slate-300 border-slate-200'} border `} type=\"button\" aria-label=\"Like\">\r\n\r\n                                        <svg width=\"20\" height=\"20\" fill=\"currentColor\" aria-hidden=\"true\">\r\n                                            <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z\" />\r\n                                        </svg>\r\n                                        <span className=\"flex text-xs text-gray-400\">{likeLength}</span>\r\n                                    </motion.button>\r\n                                )}\r\n                                {items && items.find((id: any) => id._id === item._id) ?\r\n                                    (\r\n                                        <motion.div whileTap={{ scale: 0.6 }} className=\"w-8 h-8 rounded-full  bg-gradient-to-tr from-blue-300 to-blue-600   flex items-center justify-center cursor-pointer hover:shadow-md \">\r\n                                            <MdAddTask className='text-white' />\r\n                                        </motion.div>\r\n                                    ) : (\r\n                                        <motion.div whileTap={{ scale: 0.6 }} className=\"w-8 h-8  duration-75 rounded-full bg-gradient-to-tr  from-red-300 to-red-600 flex items-center justify-center cursor-pointer hover:shadow-md \">\r\n                                            <MdShoppingCart onClick={() => handelAdd(item)} className='text-white' />\r\n                                        </motion.div>\r\n                                    )}\r\n                            </div>\r\n\r\n                            <div className=\"flex items-center justify-center\">\r\n\r\n                                <h1 className='text-2xl flex flex-col justify-center items-center text-blue-600 mb-10'>{item.title}\r\n                                    <span className='min-h-[1px] min-w-full  bg-gradient-to-tr from-blue-300 to-blue-600  flex '></span>\r\n                                </h1>\r\n                            </div>\r\n\r\n                            <p className=\"text-gray-500 flex \">{item.desc} wegewge ebeberberbe ebrebebreb erbreberbreb egrebreberb brebre</p>\r\n\r\n                            <hr className=\"min-h-[1px] min-w-full  bg-gradient-to-tr mt-4 from-blue-300 to-blue-600  flex\" />\r\n\r\n                            <div className=\"flex justify-between items-center flex-row flex-wrap mt-auto\">\r\n                                <p className=\"text-gray-700 \">\r\n                                    items left <span className=\"text-blue-600 font-semibold text-lg\">\r\n                                        {item.pieces}\r\n                                    </span>\r\n                                </p>\r\n                                <p className=\"text-gray-700 \">\r\n                                    item type <span className=\"text-blue-600 font-semibold text-lg\">\r\n                                        {item.type}\r\n                                    </span>\r\n                                </p>\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                    </motion.div>\r\n\r\n                    <motion.div\r\n                        initial={{ x: 400, opacity: 0, scale: 0.2 }}\r\n                        animate={{ x: 0, opacity: 1, scale: 1 }}\r\n                        exit={{ opacity: 0.8, x: 700, scale: 1 }}\r\n                        className=\"w-full my-6 grid lg:grid-cols-2 md:grid-cols-2  gap-6  ease-in-out duration-100 transition-all min-h-[50vh] rounded-lg\">\r\n\r\n\r\n\r\n                        <div className=\"w-full flex h-[50vh] max-h-fit justify-center items-center rounded-lg drop-shadow-lg bg-white\">\r\n                            <form onSubmit={(e) => handelSubmitComment(e)} className=\"w-full p-4\">\r\n                                <div className=\"mb-2\">\r\n                                    <label htmlFor=\"comment\" className=\"text-lg text-gray-600\">{isUpdata ? \"Updata a comment\" : \"Add a comment\"}</label>\r\n                                    <textarea\r\n                                        className=\"w-full max-h-[35vh] h-[35vh] min-h-[1vh] p-2 border rounded focus:outline-none focus:ring-gray-300 focus:ring-1\"\r\n                                        placeholder=\"Comment\"\r\n                                        value={comment}\r\n                                        onChange={(e) => setComment(e.target.value)}\r\n                                    >\r\n\r\n                                    </textarea>\r\n                                </div>\r\n                                <div className=\"flex justify-around item-center\">\r\n                                    {isLoading ? (\r\n                                        <button className=\"px-3 py-2 text-sm text-blue-100 bg-blue-600 rounded drop-shadow-md\r\n                                        hover:bg-white hover:drop-shadow-2xl hover:text-blue-600 hover:rounded-3xl hover:border hover:border-blue-600 transition-all duration-[130ms] ease-in-out\" type=\"submit\" disabled>\r\n                                            <LoderBtn />\r\n                                        </button>\r\n                                    ) : (\r\n                                        <button\r\n                                            type=\"submit\"\r\n                                            className=\"px-3 py-2 text-sm text-blue-100 bg-blue-600 rounded drop-shadow-md\r\n                                            hover:bg-white hover:drop-shadow-2xl hover:text-blue-600 hover:rounded-3xl hover:border hover:border-blue-600 transition-all duration-[130ms] ease-in-out\">\r\n                                            {isUpdata ? \"Updata\" : \"Comment\"}\r\n                                        </button>\r\n                                    )}\r\n\r\n                                    <button\r\n                                        onClick={handelCansel}\r\n                                        className=\"px-3 py-2 text-sm text-blue-600 border border-blue-500 drop-shadow-md \r\n                                        hover:bg-blue-600 hover:drop-shadow-2xl hover:text-white hover:rounded-3xl transition-all duration-[130ms] ease-in-out\">\r\n                                        Cancel\r\n                                    </button>\r\n                                </div>\r\n\r\n                            </form>\r\n                        </div>\r\n\r\n                        <div className=\"flex justify-center  items-center gap-6 flex-col h-fit w-full rounded-lg\">\r\n                            {commentsData && commentsData.map((items: any, index: number) => (\r\n                                <Comments getItem={getItem} commentsData={commentsData} setCommentsData={setCommentsData} item={items} user={user} setData={setData} key={items._id + index} id={item._id} setIsUpdata={setIsUpdata} setComment={setComment} />\r\n                            ))}\r\n\r\n                        </div>\r\n                    </motion.div>\r\n                </>\r\n            ) : (\r\n                <div className=\"flex w-full h-full justify-center items-center\">\r\n                    <Loader />\r\n                </div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ItemPage"],"names":["item","setData","user","setIsUpdata","commentsData","setComment","setCommentsData","id","getItem","useState","isVasbl","setIsVasbl","handelVasbel","handelDelete","console","log","email","name","commentId","_id","filterdComments","filter","deleteComment","className","onClick","comment","src","alt","moment","creatAt","fromNow","history","useNavigate","setItem","likesC","setLikes","isUpdata","data","likes","length","likeLength","setLikeLength","isLoading","setIsLoading","isLoadingLike","setIsLoadingLike","isHaveAcount","localStorage","JSON","parse","dispatch","useDispatch","useEffect","comments","type","actionTypes","cards","useSelector","state","card","items","setItems","handelAdd","itemey","title","price","discount","desc","pieces","stringify","itemPage","sesrshQurey","window","location","search","split","then","res","catch","error","handelCansel","handelSubmitComment","e","preventDefault","commentItem","err","endData","updataComment","Swal","icon","confirmButtonText","showCancelButton","cancelButtonText","reverseButtons","allowOutsideClick","allowEscapeKey","allowEnterKey","showLoaderOnConfirm","preConfirm","userEmail","getLikes","getCartUser","map","handelLikes","likesProdectd","cancelButtonColor","confirmButtonColor","focusConfirm","focusCancel","motion","initial","x","opacity","scale","animate","exit","img","String","Number","toFixed","LoderBtn","Notext","whileTap","width","height","fill","fillRule","clipRule","d","find","onSubmit","htmlFor","placeholder","value","onChange","target","disabled","index"],"sourceRoot":""}