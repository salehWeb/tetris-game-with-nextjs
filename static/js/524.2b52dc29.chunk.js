"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[524],{4524:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var r=n(5861),s=n(885),c=n(7757),a=n.n(c),i=n(2791),o=n(292),l=n(921),x=n(2426),p=n.n(x),u=n(1830),d=n.n(u),h=n(3504),m=n(6871),f=n(3853),y=n(6856),j=n(184),N=function(e){var t=e.item,n=e.index,c=e.card,l=e.setCard,x=(0,m.s0)(),u=(0,i.useState)(!1),N=(0,s.Z)(u,2),v=N[0],g=N[1],w=function(){var e=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(!0),d().fire({title:"Do you want to delete this item",showCancelButton:!0,showConfirmButton:!0,confirmButtonText:"Delete"}).then(function(){var e=(0,r.Z)(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isConfirmed){e.next=5;break}return e.next=3,(0,o.XM)(t).then(function(){var e=(0,r.Z)(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d().fire({icon:"success",title:"success",text:"".concat(n.data.msg)});case 2:g(!1),l(c.filter((function(e){return e._id!==t})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=(0,r.Z)(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d().fire({icon:"error",title:"Filed",text:"".concat(n.data.msg)});case 2:g(!1),l(c.filter((function(e){return e._id!==t})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:e.next=7;break;case 5:g(!1),d().fire("Changes are not saved","","info");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,j.jsxs)("tr",{className:"".concat(Math.round(n/2)===n/2?"bg-white hover:bg-gray-50":"bg-gray-100 hover:bg-white"," border-b"),children:[(0,j.jsx)("th",{scope:"row",onClick:function(){x("/item?id=".concat(t._id))},className:"px-5 py-[10px] hover:underline hover:text-blue-600 cursor-pointer font-medium text-gray-900 whitespace-nowrap",children:t.title}),(0,j.jsx)("td",{className:"px-5 py-[10px]",children:t.type}),(0,j.jsx)("td",{className:"px-5 py-[10px]",children:t.pieces}),(0,j.jsxs)("td",{className:"px-5 py-[10px]",children:["$",t.price]}),(0,j.jsx)("td",{className:"px-5 py-[10px]",children:p()(t.createdAt).fromNow()}),(0,j.jsx)("td",{className:"px-5 py-[10px]",children:t.likes.length}),(0,j.jsx)("td",{className:"px-5 py-[10px] text-right",children:String(t.discount).split(".")[1]?String(t.discount).split(".")[1]+"0%":"none"}),(0,j.jsx)("td",{className:"px-5 py-[10px] text-right",children:(0,j.jsx)(h.rU,{to:"/adman/CreatItem?id=".concat(t._id),className:"font-medium cursor-pointer  hover:text-blue-500 text-blue-600 text-lg",children:(0,j.jsx)(y.vJ9,{})})}),v?(0,j.jsx)("td",{className:"px-5 py-[10px] text-right",children:(0,j.jsx)(f.hT1,{className:"font-medium hover:text-gray-500 text-gray-500 text-lg "})}):(0,j.jsx)("td",{onClick:function(){return w(t._id)},className:"px-5 py-[10px] text-right",children:(0,j.jsx)(f.hT1,{className:"font-medium cursor-pointer hover:text-red-500 text-red-500 text-lg "})})]},t._id+n)},v=function(){var e=(0,i.useState)([]),t=(0,s.Z)(e,2),n=t[0],c=t[1],x=function(){var e=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.nO)().then((function(e){return c(e.data)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){x()}),[]),(0,j.jsx)("div",{className:"min-h-[60vh]  flex justify-center items-center my-10",children:n.length>0?(0,j.jsx)("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg ",children:(0,j.jsxs)("table",{className:"w-full text-sm text-left text-gray-500",children:[(0,j.jsx)("thead",{className:"text-xs text-gray-100 uppercase bg-gray-700",children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{scope:"col",className:"px-5 py-[10px]",children:"Product name"}),(0,j.jsx)("th",{scope:"col",className:"px-5 py-[10px]",children:"type"}),(0,j.jsx)("th",{scope:"col",className:"px-5 py-[10px]",children:"items"}),(0,j.jsx)("th",{scope:"col",className:"px-5 py-[10px]",children:"price"}),(0,j.jsx)("th",{scope:"col",className:"px-5 py-[10px]",children:"createdAt"}),(0,j.jsx)("th",{scope:"col",className:"px-5 py-[10px]",children:"Likes"}),(0,j.jsx)("th",{scope:"col",className:"px-5 py-[10px]",children:"discount"}),(0,j.jsx)("th",{scope:"col",className:"px-5 py-[10px]",children:(0,j.jsx)("span",{className:"sr-only",children:"Edit"})}),(0,j.jsx)("th",{scope:"col",className:"px-5 py-[10px]",children:(0,j.jsx)("span",{className:"sr-only",children:"Delete"})})]})}),(0,j.jsx)("tbody",{children:n&&n.map((function(e,t){return(0,j.jsx)(N,{item:e,index:t,card:n,setCard:c},e._id)}))})]})}):(0,j.jsx)("div",{className:"flex max-h-[30vh] items-center justify-center",children:(0,j.jsx)(l.aN,{})})})}}}]);
//# sourceMappingURL=524.2b52dc29.chunk.js.map